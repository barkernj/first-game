<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Sprite Test 2!</title>
        <script type="text/javascript" src="assets/rAF.js"></script>
        <script type="text/javascript">

            var ctx;
            var count = 0;
            var x;
            var y;

            var img = new Image();
            img.src = "assets/redman_sprite.png";
            img.onload = draw();

            function draw() {
                requestAnimationFrame(draw);

                ctx.clearRect(0, 0, 128, 128);

                x = (count % 16) * 128;
                y = Math.floor(count / 16) * 128;
                ctx.drawImage(img, x, y, 128, 128, 0, 0, 128, 128);
                if (count == 255) {
                    count = 0;
                } else {
                    count++;
                }
            } 

            function init() {
                ctx = document.getElementById("canvas").getContext("2d");
            }

        </script>

    </head>
    <body onload="init()">
        
        <canvas id="canvas" width="800" height="600">
            Canvas is not supported.
        </canvas>

    </body>
</html>
